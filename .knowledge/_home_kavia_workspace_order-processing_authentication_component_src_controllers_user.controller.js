{"is_source_file": true, "format": "JavaScript", "description": "Controller for user-related operations in the authentication component, handling user profile retrieval, updating, and password changes.", "external_files": ["../models/user.model.js", "../config/logger.js"], "external_methods": ["User.findById", "logger.error", "logger.info", "logger.logSecurityEvent"], "published": ["getProfile", "updateProfile", "changePassword"], "classes": [], "methods": [{"name": "getProfile", "description": "Retrieves the user profile based on the user ID from the request.", "parameters": [{"name": "req", "type": "Object", "description": "Express request object"}, {"name": "res", "type": "Object", "description": "Express response object"}]}, {"name": "updateProfile", "description": "Updates the user's profile with provided fields.", "parameters": [{"name": "req", "type": "Object", "description": "Express request object"}, {"name": "res", "type": "Object", "description": "Express response object"}]}, {"name": "changePassword", "description": "Changes the user's password after verifying the current one.", "parameters": [{"name": "req", "type": "Object", "description": "Express request object"}, {"name": "res", "type": "Object", "description": "Express response object"}]}], "calls": ["User.findById", "logger.error", "logger.info", "logger.logSecurityEvent"], "search-terms": ["user controller", "getProfile", "updateProfile", "changePassword"], "state": 2, "file_id": 31, "knowledge_revision": 106, "git_revision": "", "ctags": [{"_type": "tag", "name": "changePassword", "path": "/home/kavia/workspace/order-processing/authentication_component/src/controllers/user.controller.js", "pattern": "/^const changePassword = async (req, res) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getProfile", "path": "/home/kavia/workspace/order-processing/authentication_component/src/controllers/user.controller.js", "pattern": "/^const getProfile = async (req, res) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isMatch", "path": "/home/kavia/workspace/order-processing/authentication_component/src/controllers/user.controller.js", "pattern": "/^    const isMatch = await user.comparePassword(currentPassword);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateProfile", "path": "/home/kavia/workspace/order-processing/authentication_component/src/controllers/user.controller.js", "pattern": "/^const updateProfile = async (req, res) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/order-processing/authentication_component/src/controllers/user.controller.js", "pattern": "/^    const user = await User.findById(req.user._id);$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/order-processing/authentication_component/src/controllers/user.controller.js", "hash": "92abb0ab4c2ef016fb1bf015b424c059", "format-version": 4, "code-base-name": "default", "revision_history": [{"106": ""}]}