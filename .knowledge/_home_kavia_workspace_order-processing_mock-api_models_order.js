{"is_source_file": true, "format": "JavaScript", "description": "This file defines an Order model along with various data access functions to manage order data, including validation, creation, retrieval, updating, and deletion of orders.", "external_files": ["../utils/database"], "external_methods": ["database.updateCollection", "database.getCollection"], "published": ["getOrders", "getOrderById", "createOrder", "updateOrderStatus", "deleteOrder"], "classes": [], "methods": [{"name": "validateOrder", "description": "Validates the order object to ensure it has required fields and valid status."}, {"name": "saveOrders", "description": "Saves the provided array of orders to the database after validating them."}, {"name": "getOrders", "description": "Retrieves all orders from the database."}, {"name": "getOrderById", "description": "Retrieves a specific order by its ID from the database."}, {"name": "createOrder", "description": "Creates a new order and saves it to the database after validation."}, {"name": "updateOrderStatus", "description": "Updates the status of an existing order by its ID."}, {"name": "deleteOrder", "description": "Deletes an order by ID if the order is not in a processing status."}], "calls": ["database.updateCollection", "database.getCollection"], "search-terms": ["order model", "validate order", "save orders", "get orders", "create order", "update order status", "delete order"], "state": 2, "file_id": 41, "knowledge_revision": 166, "git_revision": "7427f8af4840809da4bebde9da2c95f721ffdacf", "revision_history": [{"90": ""}, {"134": "70f23bcd3f2a1a4a2871cd672a5343daafc3826e"}, {"135": "70f23bcd3f2a1a4a2871cd672a5343daafc3826e"}, {"136": "70f23bcd3f2a1a4a2871cd672a5343daafc3826e"}, {"137": "70f23bcd3f2a1a4a2871cd672a5343daafc3826e"}, {"138": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"139": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"141": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"142": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"143": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"144": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"145": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"146": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"147": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"148": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"150": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"153": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"154": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"155": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"156": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"157": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"159": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"160": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"161": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"163": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"165": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"166": "7427f8af4840809da4bebde9da2c95f721ffdacf"}], "ctags": [{"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const createOrder = async (orderData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "database", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const database = require('..\\/utils\\/database');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const deleteOrder = async (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getOrderById", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const getOrderById = async (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getOrders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  getOrders,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "getOrders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const getOrders = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      id: uuidv4(),$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "initialLength", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const initialLength = orders.length;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "missingFields", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  const missingFields = requiredFields.filter(field => !order[field]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const newOrder = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "orderDate", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      orderDate: new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "orderIndex", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const orderIndex = orders.findIndex(order => order.id === id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "orderNumber", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      orderNumber: `ORD-${Date.now()}`,$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "orderToDelete", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const orderToDelete = orders.find(order => order.id === id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "orders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^let orders = [];$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "requiredFields", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  const requiredFields = ['id', 'orderNumber', 'orderDate', 'status', 'customerId', 'items'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveOrders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const saveOrders = async (orders) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      status: 'CREATED',$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "updateOrderStatus", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const updateOrderStatus = async (id, status) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validStatuses", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const validStatuses = ['CREATED', 'PROCESSING', 'SHIPPED', 'DELIVERED', 'CANCELLED'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validStatuses", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  const validStatuses = ['CREATED', 'PROCESSING', 'SHIPPED', 'DELIVERED', 'CANCELLED'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const validateOrder = (order) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "hash": "e0b0b136be311e96a2e978e29ba3b9bb", "format-version": 4, "code-base-name": "default", "fields": [{"name": "getOrders,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "id: uuidv4(),", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}, {"name": "orderDate: new Date().toISOString(),", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}, {"name": "orderNumber: `ORD-${Date.now()}`,", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}, {"name": "let orders = [];", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "status: 'CREATED',", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}]}