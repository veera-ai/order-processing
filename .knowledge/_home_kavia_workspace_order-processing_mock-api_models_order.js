{"is_source_file": true, "format": "JavaScript", "description": "This file defines an Order model with various functions for validating, creating, updating, retrieving, and deleting orders in a database. It imports a database utility module for database operations and implements order status constants.", "external_files": ["../utils/database"], "external_methods": ["database.updateCollection", "database.getCollection"], "published": ["getOrders", "getOrderById", "createOrder", "updateOrderStatus", "deleteOrder"], "classes": [], "methods": [{"name": "validateOrder", "description": "Validates the given order object to ensure it has all required fields and proper data types."}, {"name": "saveOrders", "description": "Saves an array of orders to the database after validating them."}, {"name": "getOrders", "description": "Retrieves all orders from the database."}, {"name": "getOrderById", "description": "Retrieves a specific order from the database by its ID."}, {"name": "createOrder", "description": "Creates a new order in the database with the specified order data."}, {"name": "updateOrderStatus", "description": "Updates the status of an existing order by its ID."}, {"name": "deleteOrder", "description": "Deletes an order from the database by its ID."}], "calls": ["database.updateCollection", "database.getCollection"], "search-terms": ["Order model", "order validation", "order creation", "order status update", "order deletion"], "state": 2, "file_id": 41, "knowledge_revision": 173, "git_revision": "592ba7000b718b66cef0838657b2c06390ca04ec", "revision_history": [{"90": ""}, {"134": "70f23bcd3f2a1a4a2871cd672a5343daafc3826e"}, {"135": "70f23bcd3f2a1a4a2871cd672a5343daafc3826e"}, {"136": "70f23bcd3f2a1a4a2871cd672a5343daafc3826e"}, {"137": "70f23bcd3f2a1a4a2871cd672a5343daafc3826e"}, {"138": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"139": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"141": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"142": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"143": "337f4868fe55857badb21521f3fa07f7dce42a7a"}, {"144": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"145": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"146": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"147": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"148": "453a2f3fb3cab75c3f058ba4d2b6215260b70208"}, {"150": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"153": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"154": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"155": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"156": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"157": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"159": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"160": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"161": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"163": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"165": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"166": "7427f8af4840809da4bebde9da2c95f721ffdacf"}, {"167": "592ba7000b718b66cef0838657b2c06390ca04ec"}, {"169": "592ba7000b718b66cef0838657b2c06390ca04ec"}, {"170": "592ba7000b718b66cef0838657b2c06390ca04ec"}, {"171": "592ba7000b718b66cef0838657b2c06390ca04ec"}, {"172": "592ba7000b718b66cef0838657b2c06390ca04ec"}, {"173": "592ba7000b718b66cef0838657b2c06390ca04ec"}], "ctags": [{"_type": "tag", "name": "CANCELLED", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  CANCELLED: 'CANCELLED'$/", "language": "JavaScript", "kind": "property", "scope": "ORDER_STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "CREATED", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  CREATED: 'CREATED',$/", "language": "JavaScript", "kind": "property", "scope": "ORDER_STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "DELIVERED", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  DELIVERED: 'DELIVERED',$/", "language": "JavaScript", "kind": "property", "scope": "ORDER_STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "ORDER_STATUS", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const ORDER_STATUS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "PROCESSING", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  PROCESSING: 'PROCESSING',$/", "language": "JavaScript", "kind": "property", "scope": "ORDER_STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "SHIPPED", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  SHIPPED: 'SHIPPED',$/", "language": "JavaScript", "kind": "property", "scope": "ORDER_STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const createOrder = async (orderData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      createdAt: new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "currentStatus", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const currentStatus = orders[orderIndex].status;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "database", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const database = require('..\\/utils\\/database');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const deleteOrder = async (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getOrderById", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const getOrderById = async (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getOrders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  getOrders,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "getOrders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const getOrders = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      id: uuidv4(),$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "missingFields", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  const missingFields = requiredFields.filter(field => !order[field]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const newOrder = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "orderDate", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      orderDate: new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "orderIndex", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const orderIndex = orders.findIndex(order => order.id === id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "orderNumber", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      orderNumber: `ORD-${Date.now()}`,$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "orderToDelete", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const orderToDelete = orders.find(order => order.id === id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "orders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const orders = await database.getCollection('orders');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "requiredFields", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  const requiredFields = ['id', 'orderNumber', 'orderDate', 'status', 'customerId', 'items'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveOrders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const saveOrders = async (orders) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      status: ORDER_STATUS.CREATED,$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "updateOrderStatus", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const updateOrderStatus = async (id, status) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^      updatedAt: new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "newOrder", "scopeKind": "class"}, {"_type": "tag", "name": "updatedOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const updatedOrder = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedOrders", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^    const updatedOrders = orders.filter(order => order.id !== id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validStatuses", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^  const validStatuses = ['CREATED', 'PROCESSING', 'SHIPPED', 'DELIVERED', 'CANCELLED'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateOrder", "path": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "pattern": "/^const validateOrder = (order) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/order-processing/mock-api/models/order.js", "hash": "6d55434d1fbdeb42e4436f94f1c875d6", "format-version": 4, "code-base-name": "default", "fields": [{"name": "CANCELLED: 'CANCELLED'", "scope": "ORDER_STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "CREATED: 'CREATED',", "scope": "ORDER_STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "DELIVERED: 'DELIVERED',", "scope": "ORDER_STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "PROCESSING: 'PROCESSING',", "scope": "ORDER_STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "SHIPPED: 'SHIPPED',", "scope": "ORDER_STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "createdAt: new Date().toISOString(),", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}, {"name": "getOrders,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "id: uuidv4(),", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}, {"name": "orderDate: new Date().toISOString(),", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}, {"name": "orderNumber: `ORD-${Date.now()}`,", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}, {"name": "status: ORDER_STATUS.CREATED,", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: new Date().toISOString(),", "scope": "newOrder", "scopeKind": "class", "description": "unavailable"}]}