{"is_source_file": true, "format": "JavaScript", "description": "This file defines a Session model for managing user sessions, including methods for creating, finding, updating, and invalidating sessions stored in a JSON file.", "external_files": ["../config/database.js", "fs/promises"], "external_methods": ["atomicOperation", "readCollection", "writeCollection"], "published": ["Session"], "classes": [{"name": "Session", "description": "Class representing a user session, including properties like id, userId, token, refreshToken, etc., and static methods for session management."}], "methods": [{"name": "create(sessionData)", "description": "Creates a new session and saves it to the sessions collection.", "scope": "Session", "scopeKind": "class"}, {"name": "findById(id)", "description": "Finds a session by its unique ID.", "scope": "Session", "scopeKind": "class"}, {"name": "findByUserId(userId)", "description": "Finds all valid sessions associated with a specific user ID.", "scope": "Session", "scopeKind": "class"}, {"name": "findByToken(token)", "description": "Finds a valid session by its token.", "scope": "Session", "scopeKind": "class"}, {"name": "update(updates)", "description": "Updates session properties with new data.", "scope": "Session", "scopeKind": "class"}, {"name": "invalidate()", "description": "Invalidates the current session.", "scope": "Session", "scopeKind": "class"}, {"name": "cleanup()", "description": "Cleans up expired sessions from the collection.", "scope": "Session", "scopeKind": "class"}, {"name": "constructor(data)", "scope": "Session", "scopeKind": "class", "description": "unavailable"}], "calls": ["atomicOperation", "readCollection", "writeCollection"], "search-terms": ["Session model", "session management", "user session", "session storage"], "state": 2, "file_id": 18, "knowledge_revision": 153, "git_revision": "7965efa0a6b5eeb105650517b7945628f02ff3fa", "revision_history": [{"38": ""}, {"48": ""}, {"92": "8296b8630f75858aa9ee4b404a93a5282a92129b"}, {"93": "8296b8630f75858aa9ee4b404a93a5282a92129b"}, {"151": "7965efa0a6b5eeb105650517b7945628f02ff3fa"}, {"153": "7965efa0a6b5eeb105650517b7945628f02ff3fa"}], "ctags": [{"_type": "tag", "name": "Session", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^class Session {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "cleanup", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^  static async cleanup() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^  constructor(data) {$/", "language": "JavaScript", "kind": "method", "signature": "(data)", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^  static async create(sessionData) {$/", "language": "JavaScript", "kind": "method", "signature": "(sessionData)", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^    const data = await fs.readFile(filePath, 'utf8');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "findById", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^  static async findById(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "findByToken", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^  static async findByToken(token) {$/", "language": "JavaScript", "kind": "method", "signature": "(token)", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "findByUserId", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^  static async findByUserId(userId) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId)", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "invalidate", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^  async invalidate() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "readCollection", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^const readCollection = async (filePath) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^  async update(updates) {$/", "language": "JavaScript", "kind": "method", "signature": "(updates)", "scope": "Session", "scopeKind": "class"}, {"_type": "tag", "name": "writeCollection", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "pattern": "/^const writeCollection = async (filePath, data) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/order-processing/authentication_component/src/models/session.model.js", "hash": "4d8cffd63598708dd489f8fa34415e34", "format-version": 4, "code-base-name": "default"}