{"is_source_file": true, "format": "JavaScript", "description": "This file defines a User model for handling user data in a JSON file storage system. It includes methods for creating, finding, updating, and managing user accounts, along with password hashing and verification functionality using bcrypt.", "external_files": ["../config/database.js"], "external_methods": ["atomicOperation"], "published": ["User.create", "User.findById", "User.findByEmail"], "classes": [{"name": "User", "description": "A class representing a user, encapsulating user data and methods for user management, including account creation, updating, and authentication."}], "methods": [{"name": "User.create", "description": "Static method to create a new user, hash the password, and store the user data in the JSON file."}, {"name": "User.findById", "description": "Static method to find a user by their unique ID from the JSON file."}, {"name": "User.findByEmail", "description": "Static method to find a user by their email address from the JSON file."}, {"name": "update(updates)", "description": "Instance method to update user details, including password, and persist changes to the JSON file.", "scope": "User", "scopeKind": "class"}, {"name": "comparePassword(candidatePassword)", "description": "Instance method to compare a plain text password with the stored hashed password.", "scope": "User", "scopeKind": "class"}, {"name": "isLocked()", "description": "Instance method to check if the user's account is currently locked due to unsuccessful login attempts.", "scope": "User", "scopeKind": "class"}, {"name": "incrementLoginAttempts()", "description": "Instance method to increment the login attempts and potentially lock the account if the attempts exceed a threshold.", "scope": "User", "scopeKind": "class"}, {"name": "toJSON()", "description": "Instance method to convert the User object to a JSON representation, excluding sensitive data like the password.", "scope": "User", "scopeKind": "class"}, {"name": "constructor(data)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "create(userData)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "findByEmail(email)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "findById(id)", "scope": "User", "scopeKind": "class", "description": "unavailable"}], "calls": ["bcrypt.genSalt", "bcrypt.hash", "atomicOperation", "readCollection", "writeCollection", "bcrypt.compare"], "search-terms": ["User", "User model", "authentication", "password hashing", "user management"], "state": 2, "file_id": 17, "knowledge_revision": 152, "git_revision": "906589ebe3993184b636ddfb8e96afa429316a90", "revision_history": [{"35": ""}, {"47": ""}, {"65": "8296b8630f75858aa9ee4b404a93a5282a92129b"}, {"66": "8296b8630f75858aa9ee4b404a93a5282a92129b"}, {"149": "906589ebe3993184b636ddfb8e96afa429316a90"}, {"152": "906589ebe3993184b636ddfb8e96afa429316a90"}], "ctags": [{"_type": "tag", "name": "User", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^class User {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "comparePassword", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  async comparePassword(candidatePassword) {$/", "language": "JavaScript", "kind": "method", "signature": "(candidatePassword)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  constructor(data) {$/", "language": "JavaScript", "kind": "method", "signature": "(data)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  static async create(userData) {$/", "language": "JavaScript", "kind": "method", "signature": "(userData)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^    const data = await fs.readFile(filePath, 'utf8');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "findByEmail", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  static async findByEmail(email) {$/", "language": "JavaScript", "kind": "method", "signature": "(email)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "findById", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  static async findById(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "incrementLoginAttempts", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  async incrementLoginAttempts() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "isLocked", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  isLocked() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "readCollection", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^const readCollection = async (filePath) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "toJSON", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  toJSON() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^  async update(updates) {$/", "language": "JavaScript", "kind": "method", "signature": "(updates)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "writeCollection", "path": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "pattern": "/^const writeCollection = async (filePath, data) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/order-processing/authentication_component/src/models/user.model.js", "hash": "7f07b835da6d07734f7e54e6346e6473", "format-version": 4, "code-base-name": "default"}